{% extends 'layout_main.twig' %}

{% block body %}

	<div class="breadcrumb">
		<h1>Transaction Details</h1>
	</div>
<button class="btn btn-sm btn-danger text-white btn-rounded" onclick="goBack()">Go Back</button>

	<div class="separator-breadcrumb border-top"></div>
	<p class="text-small text-muted left">{{ transactionId }}</p>
	<div class="card">
		<div class="card-body">
			<div class="table-responsive">
				<table class="table table-sm table-striped">
					<thead>
						<tr>
							<th scope="col">Data</th>
							<th scope="col">Output</th>
						</tr>
					</thead>
					<tbody id='transactiondetails'>
					
					
					
					
					</tbody>

				</table>
				
			</div>
		</div>
	</div>

	{{ transactionId }}

{% endblock %}


{% block javascripts %}

<script>

$(document).ready(function () {

	var socket = io();

	socket.emit('gettransactiondetails', {transactionId: '{{ transactionId }}'} );

	socket.on('showtransactiondetails', function (data) {

		var mainTable = document.getElementById("transactiondetails");
		var tr, td;

		for(var k in data)
		{

			tr = document.createElement("tr");
			
			td = document.createElement("td");
			td.innerHTML = k;
			tr.appendChild(td);
			
			td = document.createElement("td");
			td.innerHTML = data[k];
			tr.appendChild(td);

			transactiondetails.appendChild(tr);

		};


	});

});

</script>

<script>
function goBack() {
  window.history.back();
}
</script>
{% endblock %}
